<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="google-site-verification" content="A3sL883p90l8FNR6rdUF_AS9n9sDSYyaSRP-d2xHok4" />
<meta name="baidu-site-verification" content="i9pb3atBIC" />


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Java,Collection," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.2" />






<meta name="description" content="集合队列接口123456interface Queue&amp;lt;E&amp;gt;&amp;#123;    void add(E element);    E remove();    int size();&amp;#125;
两个实现：ArrayDeque 循环数组队列，高效但容量有限LinkedList 链表队列
集合类的几本接口是Collection12345interface Collection&amp;lt;E&amp;g">
<meta property="og:type" content="article">
<meta property="og:title" content="Java 核心技术卷I - 集合">
<meta property="og:url" content="http://ritali.github.io/2017/03/16/book-java-collection/index.html">
<meta property="og:site_name" content="Ritali's blog">
<meta property="og:description" content="集合队列接口123456interface Queue&amp;lt;E&amp;gt;&amp;#123;    void add(E element);    E remove();    int size();&amp;#125;
两个实现：ArrayDeque 循环数组队列，高效但容量有限LinkedList 链表队列
集合类的几本接口是Collection12345interface Collection&amp;lt;E&amp;g">
<meta property="og:updated_time" content="2017-03-16T08:51:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java 核心技术卷I - 集合">
<meta name="twitter:description" content="集合队列接口123456interface Queue&amp;lt;E&amp;gt;&amp;#123;    void add(E element);    E remove();    int size();&amp;#125;
两个实现：ArrayDeque 循环数组队列，高效但容量有限LinkedList 链表队列
集合类的几本接口是Collection12345interface Collection&amp;lt;E&amp;g">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://ritali.github.io/2017/03/16/book-java-collection/"/>


  <title> Java 核心技术卷I - 集合 | Ritali's blog </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Ritali's blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">live better and better</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Java 核心技术卷I - 集合
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-03-16T16:46:20+08:00" content="2017-03-16">
              2017-03-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          
          <span>&nbsp; | &nbsp; 
          visited: &nbsp; <span id="busuanzi_value_page_pv" ></span>
          </span>    
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>队列接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">interface Queue&lt;E&gt;</div><div class="line">&#123;</div><div class="line">    void add(E element);</div><div class="line">    E remove();</div><div class="line">    int size();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>两个实现：<br>ArrayDeque 循环数组队列，高效但容量有限<br>LinkedList 链表队列</p>
<p>集合类的几本接口是Collection<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">interface Collection&lt;E&gt; &#123;</div><div class="line">    boolean add(E element);// 添加成功，返回true</div><div class="line">    Iterator&lt;E&gt; iterator(); ／／返回一个实现了Iterator接口的对象，依次访问集合中的每个元素。</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h3><p> LinkedList 实现了List接口<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; staff = new  LinkedList&lt;&gt;();</div><div class="line">staff.add(&apos;a&apos;); // 添加到链表尾部</div><div class="line">staff.add(&apos;b&apos;);</div><div class="line">Iterator iter = staff.iterator();</div><div class="line">String first = iter.next();</div><div class="line">String second = iter.next();</div><div class="line">iter.remove(); // 删除second元素</div></pre></td></tr></table></figure></p>
<p>如果希望添加到链表中间位置，使用子接口列表迭代器ListIterator，其中包含add方法：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">void add(E element);</div><div class="line">E previous();</div><div class="line">boolean hasPrevious();</div></pre></td></tr></table></figure></p>
<p>例如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; staff = new  LinkedList&lt;&gt;();</div><div class="line">staff.add(&apos;a&apos;); // 添加到链表尾部</div><div class="line">staff.add(&apos;b&apos;);</div><div class="line">ListIterator iter = staff.listIterator();</div><div class="line">String first = iter.next();</div><div class="line">iter.add(&apos;c&apos;); // 在第一个元素后面添加一个元素</div></pre></td></tr></table></figure></p>
<h4 id="LinkedList-获取某个元素"><a href="#LinkedList-获取某个元素" class="headerlink" title="LinkedList 获取某个元素"></a>LinkedList 获取某个元素</h4><p>LinkedList 提供了一个用来访问某个特定元素的get方法，staff.get(n); 每次都要从链表的头部重新开始搜索。 </p>
<p>而列表迭代器实现了一个方法：<br>staff.listIterator(n)将返回一个迭代器，这个迭代器指向索引为n的元素前面的位置。<br>然后调用iter.next产生与staff.get(n)同一个元素。</p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>LinkedList实现了List接口，List有两种访问方式：<br>一种是使用迭代器，一种是使用get 和set方法随机访问某个元素。后者不适合链表。</p>
<h5 id="Q1-ArrayList-和-Vector的区别？"><a href="#Q1-ArrayList-和-Vector的区别？" class="headerlink" title="Q1: ArrayList 和 Vector的区别？"></a>Q1: ArrayList 和 Vector的区别？</h5><h4 id="散列表"><a href="#散列表" class="headerlink" title="散列表"></a>散列表</h4><p>快速查找所需要的对象<br>用链表数组实现<br>散列冲突：  相对应的桶被占满<br>装填因子（load factor）：决定何时对散列表进行再散列，如75%，说明表中75%的位置已经填入元素，这个表会用双倍的桶数自动进行再散列。<br>HashSet: 实现了基于散列表的集合，implements Set<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Set&lt;String&gt; set = new HashSet&lt;&gt;();</div><div class="line">Scanner in = new Scanner(System.in);</div><div class="line">while(in.hasNext())&#123;</div><div class="line">    String w = in.next();</div><div class="line">    set.add(w);</div><div class="line">&#125;</div><div class="line">Iterator&lt;String&gt; iter = set.iterator();</div><div class="line">while(iter.hasNext())&#123;</div><div class="line">    System.out.println(iter.next());</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>创建 HashSet(int initialCapacity, float loadFactor) 指定容量和装填因子（0.0～1.0之间的数值）的空散列集。</p>
<h4 id="树集"><a href="#树集" class="headerlink" title="树集"></a>树集</h4><p>TreeSet 有序集合<br>排序是用红黑树实现的<br>implements SortedSet()</p>
<h5 id="Q2-红黑树？算法导论里有提到"><a href="#Q2-红黑树？算法导论里有提到" class="headerlink" title="Q2: 红黑树？算法导论里有提到"></a>Q2: 红黑树？算法导论里有提到</h5><p>如果树中包含n个元素，查找新元素的正确位置平均需要logn (底为2)次比较，因此将一个元素添加到TreeSetz中要比添加到HashSet中慢。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">TreeSet() //构造一个空树集</div><div class="line">TreeSet(Collection&lt;? extends E&gt; elements)构造一个树集，并将集合中的所有元素添加到树集中。</div></pre></td></tr></table></figure></p>
<h4 id="队列与双端队列"><a href="#队列与双端队列" class="headerlink" title="队列与双端队列"></a>队列与双端队列</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">java.util.Queue</div><div class="line">boolean add(E element)</div><div class="line">boolean offer(E element)</div><div class="line">如果队列没有满，将给定元素添加到这个队列的尾部并返回true，如果满了，第一个方法抛出IllegalStateException, 第二个方法返回false。</div><div class="line">E remove()</div><div class="line">E poll()</div><div class="line">删除队列头部元素</div><div class="line">E element()</div><div class="line">E peek()</div><div class="line">返回头部元素，但不删除</div><div class="line"></div><div class="line">java.util.Deque</div><div class="line">与Queue类似</div><div class="line">void addFirst(E element)</div><div class="line">void addLast(E element)</div><div class="line">boolean offerFirst(E element)</div><div class="line">boolean offerLast(E element)</div><div class="line">添加到队列的头部或者尾部</div><div class="line">remove和poll类似</div><div class="line">E getFirst()</div><div class="line">E getLast()</div><div class="line">E peekFirst()</div><div class="line">E peekLast()</div><div class="line"></div><div class="line">java.util.ArrayDeque</div><div class="line">ArrayDeque()</div><div class="line">ArrayDeque(int initialCapacity)</div><div class="line">用初始容量16或给定的初始容量构造一个无限双端队列</div></pre></td></tr></table></figure>
<h4 id="优先级队列"><a href="#优先级队列" class="headerlink" title="优先级队列"></a>优先级队列</h4><p>使用堆（自我调整的二叉树）实现。<br>可以按人意顺序插入，却按排序的顺序检索，默认返回队列中最小的元素。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">PriorityQueue&lt;TmpClass&gt; pq = new PriorityQueue&lt;&gt;();</div><div class="line">pq.add(new TmpClass(1,&apos;first&apos;));</div><div class="line"></div><div class="line">PriorityQueue(int initialCapacity, Comparator&lt;? super E&gt; c)</div><div class="line">构造一个优先级队列，并用指定的比较器对元素进行排序</div></pre></td></tr></table></figure></p>
<h4 id="映射表"><a href="#映射表" class="headerlink" title="映射表"></a>映射表</h4><p>两个通用实现：HashMap 和 TreeMap。 实现了Map接口。</p>
<p>HashMap:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Set&lt;K&gt; keySet() 返回键集合</div><div class="line">Collection&lt;K&gt; values()  返回值集合</div><div class="line">Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet 返回键／值集合</div><div class="line"></div><div class="line">for example：</div><div class="line">for (Map.entry&lt;String, Employee&gt; entry: staff.entrySet()) &#123;</div><div class="line">    String key = entry.getKey();</div><div class="line">    Employee value = entry.getValue();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>HashMap(int initialCapacity, float loadFactor) 指定容量和装填因子（0.0～1.0之间的数值）的空散列映射表。</p>
<p>TreeMap:<br>有序映射表</p>
<h5 id="Q3-TreeMap的使用场景？"><a href="#Q3-TreeMap的使用场景？" class="headerlink" title="Q3: TreeMap的使用场景？"></a>Q3: TreeMap的使用场景？</h5><h4 id="专用集和映射表类"><a href="#专用集和映射表类" class="headerlink" title="专用集和映射表类"></a>专用集和映射表类</h4><p>WeakHashMap<br>LinkedHashSet和LinkedHashMap,用来记住插入元素项的顺序。<br>EnumSet是一个枚举类型元素集的高效实现。由于枚举类型只有有限个实例，所以EnumSet内部用位序列实现，如果对应的值在集中，则相应的位被置1。<br>EnumMap: 键类型位枚举类型的映射表。<br>Java 类库支持下面几种具体类<br>LinkeList<br>ArrayList<br>ArrayDeque<br>HashSet<br>TreeSet<br>PriorityQueue<br>HashMap<br>TreeMap</p>
<h4 id="批操作"><a href="#批操作" class="headerlink" title="批操作"></a>批操作</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// 求两个集合的交集</div><div class="line">Set&lt;String&gt; result = new HashSet(a);</div><div class="line">result.retains(b);</div><div class="line"></div><div class="line">集合与数组之间的转换</div><div class="line">String[] values = ;</div><div class="line">HashSet&lt;String&gt; staff = new HashSet&lt;&gt;(Arrays.asList(values))</div><div class="line"></div><div class="line">将集合转换为数组：Object[] values = staff.toArray();</div><div class="line">无法改变类型。  </div><div class="line">另外一种转换方法：String[] values = staff.toArray(new String[0]);</div><div class="line">staff.toArray(new String[staff.size()]);</div></pre></td></tr></table></figure>
<h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><p>终于到了算法的部分了！</p>
<h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h4><p>java 的排序将所有元素转入一个数组，并使用一种归并排序的变体对数组进行排序，然后，再将排序后的序列复制回列表。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">List&lt;String&gt; staff = new LinkedList();</div><div class="line">Collections.sort(staff)  // 默认生序</div><div class="line">// 如果想降序</div><div class="line">Collections.sort(staff, Collections.reverseOrder());</div><div class="line">// 其他方式排序</div><div class="line">Comparator&lt;Item&gt; itemComparator = new Comparator&lt;Item&gt;() </div><div class="line">&#123;</div><div class="line">    public int compare(Item a, Item b) </div><div class="line">    &#123;</div><div class="line">        return a.num - b.num;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">Collections.sort(staff, itemComparator);</div><div class="line">// 按照其他方式逆序排序</div><div class="line">Collections.sort(staff, Collections.reverseOrder(itemComparator));</div></pre></td></tr></table></figure></p>
<p>集合中的归并排序比快排要慢一些，但是优点：稳定，即不需要交换相同的元素。</p>
<h4 id="混排"><a href="#混排" class="headerlink" title="混排"></a>混排</h4><p>随机混排列表中的元素：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Collections.shuffle(staff);</div></pre></td></tr></table></figure></p>
<p>复杂度分析：<br>sort的时间复杂度是O(nlogn),n为列表长度。<br>shuffle 时间复杂度是O(n a(n)), a(n) 是访问元素的平均时间。</p>
<h5 id="Q4-实现集合的shuffle算法？"><a href="#Q4-实现集合的shuffle算法？" class="headerlink" title="Q4: 实现集合的shuffle算法？"></a>Q4: 实现集合的shuffle算法？</h5><h4 id="二分查找"><a href="#二分查找" class="headerlink" title="二分查找"></a>二分查找</h4><p>排好序的集合使用下面的二分查找，提供参数：集合和要查找的元素<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">index = Collections.binarySearch(c, element);</div><div class="line">index = Collections.binarySearch(c, element, comparator);</div></pre></td></tr></table></figure></p>
<p>如果返回数值大于等于0，则表示匹配对象的索引。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">c.get(index) ＝ element；</div></pre></td></tr></table></figure></p>
<p>如果返回负值，则表示没有匹配的元素。但是可以利用返回值计算应该将element 插入到集合的哪个位置，以保持集合的有序性。插入的位置是<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">insertPoint = -index - 1;</div><div class="line">if (index&lt;0)</div><div class="line">    c.add(-i-1, element);</div></pre></td></tr></table></figure></p>
<p>注：只有采用随机访问，二分查找才有意义。如果必须利用迭代方式一次次遍历链表的一半元素来找到中间位置的元素，二分查找就完全失去了优势。<br>因此，如果为binarySearch算法提供一个链表，它将自动的变为线性查找。</p>
<p>时间复杂度：O(a(n)logn), a(n) 是访问元素的平均时间。</p>
<h4 id="简单算法"><a href="#简单算法" class="headerlink" title="简单算法"></a>简单算法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">min(Collection&lt;T&gt; elements)  </div><div class="line">max</div><div class="line">copy(List&lt;? super T&gt; to, List&lt;T&gt; from);</div><div class="line">fill(List&lt;? super T&gt; l, T value); // 将列表中所有位置设置为相同的值</div><div class="line">addAll(Collection&lt;? super T&gt; c, T ...values);</div><div class="line">replaceAll(List&lt;T&gt; l, T oldValue, T newValue);</div><div class="line">indexOfSubList(List&lt;?&gt; l, List&lt;?&gt; s);</div><div class="line">swap(List&lt;?&gt; l, int i, int j); // 交换给定偏移量的两个元素</div><div class="line">reverse（List&lt;?&gt; l);</div><div class="line">rotate(List&lt;?&gt; l, int d) // 旋转列表中的元素，将索引i的条目移动到位置(i + d) % l.size()</div><div class="line">frequency(Collection&lt;?&gt; c, Object o); // 返回c中与对象o相同的元素个数</div><div class="line">disjoint(Collection&lt;?&gt; cl, Collection&lt;?&gt; c2); // 如果两个集合没有共同的元素，返回true</div></pre></td></tr></table></figure>
<h4 id="编写自己的方法，尽量使用接口"><a href="#编写自己的方法，尽量使用接口" class="headerlink" title="编写自己的方法，尽量使用接口"></a>编写自己的方法，尽量使用接口</h4><h4 id="遗留的集合"><a href="#遗留的集合" class="headerlink" title="遗留的集合"></a>遗留的集合</h4><ol>
<li>Hashtable(t小写) 与HashMap的作用一样，方法是同步的，对同步性没有要求的情况下，应该使用HashMap</li>
<li>枚举<br>Enumeration两个方法，hasMoreElements 和 nextElement</li>
<li><p>属性映射表<br>Properties</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">getProperty(String key)</div><div class="line">getProperty(String key, String defaultValue)没找到返回默认值</div><div class="line">load(InputStream in) // 从InputStream加载属性映射表</div><div class="line">store(OutputStream out, String commentString) // 把属性映射表存储到OutputStream</div></pre></td></tr></table></figure>
</li>
<li><p>栈 Stack<br>push, pop, peek</p>
</li>
<li><p>位集 Bitset  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">get(i)  // 第i位位于“开”状态，返回true  </div><div class="line">set(i)  // 设置为“开”</div><div class="line">clear(i) // 设置为&quot;关”</div><div class="line">and</div><div class="line">or</div><div class="line">xor</div><div class="line">andNot</div></pre></td></tr></table></figure>
<p>应用，找素数</p>
</li>
</ol>
<p>找出100以内的素数<br>素数定义：质数，又称素数，指在一个大于1的自然数中，除了1和此整数自身外，无法被其他自然数整除的数（也可定义为只有1和本身两个因数的数）。<br>使用Java.util.BitSet求素数的算法：<br>例如要找100以内的素数，<br>1，声明一个BitSet bs，第0,1位置false；其余位是true。<br>2，从2开始遍历bs，如果是true就进行内循环遍历。<br>3，内循环遍历：从外向内环i开始遍历bs，每次增长一个i（这个很重要），把内循环j在bs中的位置成false。<br>代码如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">for(int i=0;i&lt;bs.size();i++)&#123;</div><div class="line"> if(bs.get(i))&#123;</div><div class="line">  //内循环遍历</div><div class="line">  for(int j=2*i;j&lt;bs.size();j+=i)&#123;</div><div class="line">   bs.set(j, false);</div><div class="line">  &#125;</div><div class="line"> &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>完整的代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">package com;  </div><div class="line">  </div><div class="line">import java.util.BitSet;  </div><div class="line">  </div><div class="line">public class mianTestSix &#123;  </div><div class="line">  </div><div class="line">    /**  </div><div class="line">     * @param args  </div><div class="line">     */  </div><div class="line">    public static void main(String[] args) &#123;  </div><div class="line">        BitSet bs=new BitSet(100);  </div><div class="line">        initBitSet(bs);  </div><div class="line">        findSushuBitSet(bs);  </div><div class="line">        printSushuBitSet(bs);  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    //第0,1位置成false，其余全部是true.  </div><div class="line">    public static void initBitSet(BitSet bs)&#123;  </div><div class="line">        for(int i=0;i&lt;bs.size();i++)&#123;  </div><div class="line">            if(i==0||i==1)&#123;  </div><div class="line">                bs.set(i, false);  </div><div class="line">            &#125;else&#123;  </div><div class="line">                bs.set(i, true);  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    //处理数据，找到素数  </div><div class="line">    public static void findSushuBitSet(BitSet bs)&#123;  </div><div class="line">        for(int i=0;i&lt;bs.size();i++)&#123;  </div><div class="line">            if(bs.get(i))&#123;  </div><div class="line">                //内循环遍历  </div><div class="line">                for(int j=2*i;j&lt;bs.size();j+=i)&#123;  </div><div class="line">                    bs.set(j, false);  </div><div class="line">                &#125;  </div><div class="line">            &#125;  </div><div class="line">              </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    //位是1的是素数，打印  </div><div class="line">    public static void printSushuBitSet(BitSet bs)&#123;  </div><div class="line">        StringBuffer buf=new StringBuffer();  </div><div class="line">        int num=0;  </div><div class="line">        for(int i=0;i&lt;100;i++)&#123;  </div><div class="line">            if(bs.get(i))&#123;  </div><div class="line">                buf.append(i+&quot;,&quot;);  </div><div class="line">                num++;  </div><div class="line">            &#125;  </div><div class="line">              </div><div class="line">            if((num+1)%20==0&amp;&amp;num!=0)&#123;  </div><div class="line">                buf.append(&quot;\n&quot;);  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">        System.out.println(buf.toString());  </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">  </div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Java/" rel="tag">#Java</a>
          
            <a href="/tags/Collection/" rel="tag">#Collection</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/12/11/git-use/" rel="next" title="Git Tools">
                <i class="fa fa-chevron-left"></i> Git Tools
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/02/2017-tencent-onlie-test/" rel="prev" title="Tencent 2016 研发工程师笔试题 + 答案解析">
                Tencent 2016 研发工程师笔试题 + 答案解析 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/ritali.jpg"
               alt="Ritali" />
          <p class="site-author-name" itemprop="name">Ritali</p>
          <p class="site-description motion-element" itemprop="description">live better and better</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">10</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">tags</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Ritali" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/liverita" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/XilianLi" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                  Twitter
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ritali</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

&nbsp&nbsp|&nbsp&nbsp Total visited- <span id="busuanzi_value_site_pv"></span> &nbsp&nbsp
|&nbsp&nbsp User visited-<span id="busuanzi_value_site_uv"></span>


<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  




  
  

  

  

  

  


</body>
</html>
